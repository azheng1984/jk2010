<?php
namespace Hyperframework;

class ClassLoaderCacheBuilder {
    public static function run() {
        $folder = \Hyperframework\APP_ROOT_PATH . DIRECTORY_SEPARATOR
            . 'vendor' . DIRECTORY_SEPARATOR . 'composer';
        //$classMap = require($folder . DIRECTORY_SEPARATOR . 'autoload_classmap.php');
        $psr0 = require($folder . DIRECTORY_SEPARATOR . 'autoload_namespaces.php');
        var_dump($psr0);
        $psr4 = require($folder . DIRECTORY_SEPARATOR . 'autoload_psr4.php');
        var_dump($psr4);
        foreach ($psr0 as $key => $item) {
            if (isset($psr4[$key])) {
                $psr4[$key] = array();
            }
            foreach ($item as $i) {
                $psr4[$key][] = $i . DIRECTORY_SEPARATOR . substr(
                    str_replace("\\", DIRECTORY_SEPARATOR, $key), 0, strlen($key) -1);
            }
        }

        var_dump($psr4);
    }
}
