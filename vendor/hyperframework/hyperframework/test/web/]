<?php
namespace Hyperframework\Web;

use Hyperframework\Common\Config;
use Hyperframework\Web\Test\TestCase as Base;

class ViewPathBuilderTest extends Base {
    public function testBuild() {
        $this->assertSame(
            'index.json.php', ViewPathBuilder::build('json')
        );
    }

    public function testBuildWithoutOutputFormat() {
        Config::set(
            'hyperframework.web.view.path.include_output_format', false
        );
        $this->assertSame('index.php', ViewPathBuilder::build('index'));
    }

    public function testBuildWithCustomFormat() {
        Config::set('hyperframework.web.view.format', 'tpl');
        $this->assertSame('index.html.tpl', ViewPathBuilder::build('index'));
    }

    public function testBuildWithEmptyCustomFormat() {
        Config::set('hyperframework.web.view.format', '');
        $this->assertSame('index.html', ViewPathBuilder::build('index'));
    }

    public function testBuildWithCustomOutputFormat() {
        Config::set('hyperframework.web.view.output_format', '');
        $this->assertSame('index.html', ViewPathBuilder::build('index'));
    }

    public function testBuildWithEmptyCustomFormat() {
    }
}
